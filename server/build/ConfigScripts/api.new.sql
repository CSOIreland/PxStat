  Declare @asvID int
  DECLARE @cstId int
  set @cstId=(select CST_ID FROM TS_CONFIG_SETTING_TYPE WHERE CST_CODE='API')
  IF(@cstId is null)
  BEGIN
	INSERT INTO TS_CONFIG_SETTING_TYPE(CST_CODE,CST_VALUE)
	VALUES('API','API CONFIG')
	set @cstId=(select CST_ID FROM TS_CONFIG_SETTING_TYPE WHERE CST_CODE='API')
  END

  set @asvID=(select max(asv_id) from TM_APP_SETTING_CONFIG_VERSION where ASV_CST_ID=@cstId)

  IF @asvID IS NULL
  BEGIN
	INSERT INTO TM_APP_SETTING_CONFIG_VERSION (ASV_VERSION,ASV_CST_ID)
	VALUES(1.00,@cstId)
	set @asvID=(select max(asv_id) from TM_APP_SETTING_CONFIG_VERSION where ASV_CST_ID=@cstId) 
  END


  IF(SELECT COUNT(*) FROM TS_API_SETTING WHERE API_ASV_ID=@asvID)>0
  BEGIN
	SET @asvID=@asvID + 1
	INSERT INTO TM_APP_SETTING_CONFIG_VERSION(ASV_VERSION,ASV_CST_ID)
	VALUES(@asvID,@cstId)
  END
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_FIREBASE_SALSA','','','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AUTHENTICATION_TYPE','ANY','Json config for API_AUTHENTICATION_TYPE','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_STATELESS','TRUE','Json config for API_STATELESS','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_SUCCESS','success','Json config for API_SUCCESS','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_SESSION_COOKIE','session','Json config for API_SESSION_COOKIE','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_RESOURCE_I18N_DIRECTORY','Resources/Internationalisation','Json config for API_RESOURCE_I18N_DIRECTORY','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_MASK_PARAMETERS','MtrInput,Lgn1Fa,Totp','Json config for API_JSONRPC_MASK_PARAMETERS','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_DOMAIN','','Json config for API_AD_DOMAIN','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_PATH','','Json config for API_AD_PATH','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_USERNAME','','Json config for API_AD_USERNAME','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_PASSWORD','','Json config for API_AD_PASSWORD','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_CUSTOM_PROPERTIES','','Json config for API_AD_CUSTOM_PROPERTIES','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_RECAPTCHA_ENABLED','TRUE','Json config for API_RECAPTCHA_ENABLED','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_RECAPTCHA_URL','https://www.google.com/recaptcha/api/siteverify?secret={0}&response={1}','Json config for API_RECAPTCHA_URL','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_RECAPTCHA_PRIVATE_KEY','','Json config for API_RECAPTCHA_PRIVATE_KEY','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_ENABLED','TRUE','Json config for API_EMAIL_ENABLED','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_MAIL_NOREPLY','','Json config for API_EMAIL_MAIL_NOREPLY','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_MAIL_SENDER','','Json config for API_EMAIL_MAIL_SENDER','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_SERVER','','Json config for API_EMAIL_SMTP_SERVER','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_PORT','25','Json config for API_EMAIL_SMTP_PORT','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_AUTHENTICATION','FALSE','Json config for API_EMAIL_SMTP_AUTHENTICATION','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_USERNAME','','Json config for API_EMAIL_SMTP_USERNAME','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_PASSWORD','','Json config for API_EMAIL_SMTP_PASSWORD','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_SMTP_SSL','FALSE','Json config for API_EMAIL_SMTP_SSL','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_EMAIL_DATETIME_MASK','dd/MM/yyyy - HH:mm:ss','Json config for API_EMAIL_DATETIME_MASK','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_ADO_DEFAULT_CONNECTION','defaultConnection','Json config for API_ADO_DEFAULT_CONNECTION','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_ADO_DB_CONNECTION_TYPE','SQL','Json config for API_ADO_DB_CONNECTION_TYPE','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_ADO_DB_AD_DOMAIN','','Json config for API_ADO_DB_AD_DOMAIN','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_ADO_DB_AD_CONNECTION_USERNAME','','Json config for API_ADO_DB_AD_CONNECTION_USERNAME','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_ADO_DB_AD_CONNECTION_PASSWORD','','Json config for API_ADO_DB_AD_CONNECTION_PASSWORD','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_FIREBASE_ENABLED','TRUE','Json config for API_FIREBASE_ENABLED','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_FIREBASE_APP_NAME','','Json config for API_FIREBASE_APP_NAME','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_FIREBASE_CREDENTIAL','{}','Json config for API_FIREBASE_CREDENTIAL','1' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_CONNECTION','','AD Connection string','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_QUERY_FILTER','(&(objectCategory=Person) (sn=*) (mail=*) (givenname=*) (!(userAccountControl:1.2.840.113556.1.4.803:=2)))','AD Query Filter','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_AD_BLACKLIST_OUS','','Forbidden OUs in Active Directory query','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_TRACE_ENABLED','true','API level trace enabled','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'API_TRACE_RECORD_IP','false','When API level trace enabled, record the ip address','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_ALLOWED_TAGS','','List of allowed tags to remove','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_ALLOWED_ATTRIBUTES','','List of allowed attributes to remove','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_ALLOWED_CSSCLASSESS','','List of css classes to remove','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_ALLOWED_ATRULES','','List of at rules to remove','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_ALLOWED_SCHEMES','','List of schemes to remove','0' )
insert into ts_api_setting (api_asv_id,api_key,api_value,API_DESCRIPTION,API_SENSITIVE_VALUE)
values (@asvId,'SANITIZER_REMOVE_URI_ATTRIBUTES','','List of URI attributes to remove','0' )
