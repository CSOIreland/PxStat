CREATE TABLE [dbo].[TD_MATRIX_DIMENSION] (
    [MDM_ID]       INT             IDENTITY (1, 1) NOT NULL,
    [MDM_SEQUENCE] INT             NOT NULL,
    [MDM_CODE]     NVARCHAR (256)  NULL,
    [MDM_VALUE]    NVARCHAR (256)  NULL,
    [MDM_MTR_ID]   INT             NULL,
    [MDM_DMR_ID]   INT             NULL,
    [MDM_GEO_FLAG] BIT             CONSTRAINT [DF_TD_MATRIX_DIMENSION_MDM_GEO_FLAG] DEFAULT ((0)) NULL,
    [MDM_GEO_URL]  NVARCHAR (2048) NULL,
    CONSTRAINT [PK_TD_MATRIX_DIMENSION] PRIMARY KEY CLUSTERED ([MDM_ID] ASC),
    CONSTRAINT [FK_TD_MATRIX_DIMENSION_TD_MATRIX] FOREIGN KEY ([MDM_MTR_ID]) REFERENCES [dbo].[TD_MATRIX] ([MTR_ID]),
    CONSTRAINT [FK_TD_MATRIX_DIMENSION_TS_DIMENSION_ROLE] FOREIGN KEY ([MDM_DMR_ID]) REFERENCES [dbo].[TS_DIMENSION_ROLE] ([DMR_ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_MDM_CODE]
    ON [dbo].[TD_MATRIX_DIMENSION]([MDM_MTR_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_MDM_MTR_ID_SEQUENCE]
    ON [dbo].[TD_MATRIX_DIMENSION]([MDM_MTR_ID] ASC, [MDM_SEQUENCE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_MDM_MTR_ID]
    ON [dbo].[TD_MATRIX_DIMENSION]([MDM_MTR_ID] ASC);

