CREATE TABLE [dbo].[TD_KEYWORD_SUBJECT] (
    [KSB_ID]                INT            IDENTITY (1, 1) NOT NULL,
    [KSB_CODE]              INT            CONSTRAINT [KSB_CODE_SEQUENCE] DEFAULT (NEXT VALUE FOR [dbo].[KSB_CODE_seq]) NOT NULL,
    [KSB_VALUE]             NVARCHAR (256) NOT NULL,
    [KSB_SBJ_ID]            INT            NOT NULL,
    [KSB_MANDATORY_FLAG]    BIT            CONSTRAINT [DF_TD_KEYWORD_SUBJECT_KSB_MANDATORY_FLAG] DEFAULT ((0)) NOT NULL,
    [KSB_SINGULARISED_FLAG] BIT            CONSTRAINT [DF_TD_KEYWORD_SUBJECT_KSB_SINGULARISED_FLAG] DEFAULT ((1)) NOT NULL,
    CONSTRAINT [PK_TD_KEYWORD_SUBJECT] PRIMARY KEY CLUSTERED ([KSB_ID] ASC),
    CONSTRAINT [FK_TD_KEYWORD_SUBJECT_TD_SUBJECT] FOREIGN KEY ([KSB_SBJ_ID]) REFERENCES [dbo].[TD_SUBJECT] ([SBJ_ID])
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_KSB_CODE]
    ON [dbo].[TD_KEYWORD_SUBJECT]([KSB_CODE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_KSB_MANDATORY_FLAG]
    ON [dbo].[TD_KEYWORD_SUBJECT]([KSB_MANDATORY_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_KSB_SBJ_ID]
    ON [dbo].[TD_KEYWORD_SUBJECT]([KSB_SBJ_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_KSB_SINGULARISED_FLAG]
    ON [dbo].[TD_KEYWORD_SUBJECT]([KSB_SINGULARISED_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_KSB_VALUE]
    ON [dbo].[TD_KEYWORD_SUBJECT]([KSB_VALUE] ASC);

