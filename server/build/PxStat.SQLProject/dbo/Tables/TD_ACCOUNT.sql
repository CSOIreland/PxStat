CREATE TABLE [dbo].[TD_ACCOUNT] (
    [CCN_ID]                INT            IDENTITY (1, 1) NOT NULL,
    [CCN_USERNAME]          NVARCHAR (256) NOT NULL,
    [CCN_PRV_ID]            INT            NOT NULL,
    [CCN_NOTIFICATION_FLAG] BIT            CONSTRAINT [DF_TD_ACCOUNT_CCN_NOTIFICATION_FLAG] DEFAULT ((1)) NOT NULL,
    [CCN_DISPLAYNAME]       NVARCHAR (256) NULL,
    [CCN_EMAIL]             NVARCHAR (256) NULL,
    [CCN_LOCKED_FLAG]       BIT            DEFAULT ((0)) NOT NULL,
    [CCN_AD_FLAG]           BIT            DEFAULT ((0)) NOT NULL,
    [CCN_DTG_ID]            INT            NOT NULL,
    [CCN_DELETE_FLAG]       BIT            CONSTRAINT [DF_TD_ACCOUNT_CCN_DELETE_FLAG] DEFAULT ((0)) NOT NULL,
    [CCN_USR_ID]            INT            NOT NULL,
    [CCN_API_TOKEN]         NVARCHAR (256) NULL,
    CONSTRAINT [PK_TD_ACCOUNT] PRIMARY KEY CLUSTERED ([CCN_ID] ASC),
    CONSTRAINT [FK_TD_ACCOUNT_TD_AUDITING] FOREIGN KEY ([CCN_DTG_ID]) REFERENCES [dbo].[TD_AUDITING] ([DTG_ID]),
    CONSTRAINT [FK_TD_ACCOUNT_TD_USER] FOREIGN KEY ([CCN_USR_ID]) REFERENCES [dbo].[TD_USER] ([USR_ID]),
    CONSTRAINT [FK_TD_ACCOUNT_TS_PRIVILEGE] FOREIGN KEY ([CCN_PRV_ID]) REFERENCES [dbo].[TS_PRIVILEGE] ([PRV_ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_CCN_AD_FLAG]
    ON [dbo].[TD_ACCOUNT]([CCN_AD_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CCN_EMAIL]
    ON [dbo].[TD_ACCOUNT]([CCN_EMAIL] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CCN_LOCKED_FLAG]
    ON [dbo].[TD_ACCOUNT]([CCN_LOCKED_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CCN_USER_ID]
    ON [dbo].[TD_ACCOUNT]([CCN_USR_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CNN_DELETE_FLAG]
    ON [dbo].[TD_ACCOUNT]([CCN_DELETE_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CNN_DTG_ID]
    ON [dbo].[TD_ACCOUNT]([CCN_DTG_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CNN_NOTIFICATION_FLAG]
    ON [dbo].[TD_ACCOUNT]([CCN_NOTIFICATION_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CNN_PRV_ID]
    ON [dbo].[TD_ACCOUNT]([CCN_PRV_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CNN_USERNAME]
    ON [dbo].[TD_ACCOUNT]([CCN_USERNAME] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_CCN_API_TOKEN]
    ON [dbo].[TD_ACCOUNT]([CCN_API_TOKEN] ASC);

