CREATE TABLE [dbo].[TM_AUDITING_HISTORY] (
    [DHT_ID]       INT      IDENTITY (1, 1) NOT NULL,
    [DHT_DTG_ID]   INT      NOT NULL,
    [DHT_DTP_ID]   INT      NOT NULL,
    [DHT_CCN_ID]   INT      NOT NULL,
    [DHT_DATETIME] DATETIME NOT NULL,
    CONSTRAINT [PK_TM_AUDITING_HISTORY] PRIMARY KEY CLUSTERED ([DHT_ID] ASC),
    CONSTRAINT [FK_TM_AUDITING_HISTORY_TD_ACCOUNT] FOREIGN KEY ([DHT_CCN_ID]) REFERENCES [dbo].[TD_ACCOUNT] ([CCN_ID]),
    CONSTRAINT [FK_TM_AUDITING_HISTORY_TD_AUDITING] FOREIGN KEY ([DHT_DTG_ID]) REFERENCES [dbo].[TD_AUDITING] ([DTG_ID]),
    CONSTRAINT [FK_TM_AUDITING_HISTORY_TS_AUDITING_TYPE] FOREIGN KEY ([DHT_DTP_ID]) REFERENCES [dbo].[TS_AUDITING_TYPE] ([DTP_ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_DHT_CCN_ID]
    ON [dbo].[TM_AUDITING_HISTORY]([DHT_CCN_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_DHT_DTG_ID]
    ON [dbo].[TM_AUDITING_HISTORY]([DHT_DTG_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_DHT_DTP_ID]
    ON [dbo].[TM_AUDITING_HISTORY]([DHT_DTP_ID] ASC);

