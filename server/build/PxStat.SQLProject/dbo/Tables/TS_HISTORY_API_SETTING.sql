CREATE TABLE [dbo].[TS_HISTORY_API_SETTING] (
    [HPI_ID]          INT           IDENTITY (1, 1) NOT NULL,
    [HPI_ASV_ID]      INT           NOT NULL,
    [HPI_KEY]         VARCHAR (200) NOT NULL,
    [HPI_VALUE]       VARCHAR (MAX) NOT NULL,
    [HPI_DESCRIPTION] VARCHAR (MAX) NOT NULL,
    [HPI_UPDATED_AT]  DATETIME      DEFAULT (getdate()) NOT NULL,
    [HPI_UPDATED_BY]  VARCHAR (256) DEFAULT (user_name()) NOT NULL,
    [HPI_API_ID]      INT           NOT NULL,
    PRIMARY KEY CLUSTERED ([HPI_ID] ASC),
    CONSTRAINT [FK_TS_HISTORY_API_SETTING_APP_SETTING] FOREIGN KEY ([HPI_API_ID]) REFERENCES [dbo].[TS_API_SETTING] ([API_ID]),
    CONSTRAINT [FK_TS_HISTORY_API_SETTING_APP_SETTING_VERSION] FOREIGN KEY ([HPI_ASV_ID]) REFERENCES [dbo].[TM_APP_SETTING_CONFIG_VERSION] ([ASV_ID])
);

