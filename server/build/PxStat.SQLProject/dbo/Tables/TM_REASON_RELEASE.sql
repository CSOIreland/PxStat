CREATE TABLE [dbo].[TM_REASON_RELEASE] (
    [RSR_ID]          INT IDENTITY (1, 1) NOT NULL,
    [RSR_RSN_ID]      INT NOT NULL,
    [RSR_RLS_ID]      INT NOT NULL,
    [RSR_CMM_ID]      INT NULL,
    [RSR_DTG_ID]      INT NOT NULL,
    [RSR_DELETE_FLAG] BIT CONSTRAINT [DF_TM_REASON_RELEASE_RSR_DELETE_FLAG] DEFAULT ((0)) NOT NULL,
    CONSTRAINT [PK_TM_REASON_RELEASE] PRIMARY KEY CLUSTERED ([RSR_ID] ASC),
    CONSTRAINT [FK_TM_REASON_RELEASE_TD_AUDITING] FOREIGN KEY ([RSR_DTG_ID]) REFERENCES [dbo].[TD_AUDITING] ([DTG_ID]),
    CONSTRAINT [FK_TM_REASON_RELEASE_TD_COMMENT] FOREIGN KEY ([RSR_CMM_ID]) REFERENCES [dbo].[TD_COMMENT] ([CMM_ID]),
    CONSTRAINT [FK_TM_REASON_RELEASE_TD_RELEASE] FOREIGN KEY ([RSR_RLS_ID]) REFERENCES [dbo].[TD_RELEASE] ([RLS_ID]),
    CONSTRAINT [FK_TM_REASON_RELEASE_TS_REASON] FOREIGN KEY ([RSR_RSN_ID]) REFERENCES [dbo].[TS_REASON] ([RSN_ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_RSR_CMM_ID]
    ON [dbo].[TM_REASON_RELEASE]([RSR_CMM_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RSR_DELETE_FLAG]
    ON [dbo].[TM_REASON_RELEASE]([RSR_DELETE_FLAG] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RSR_DTG_ID]
    ON [dbo].[TM_REASON_RELEASE]([RSR_DTG_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RSR_RSL_ID]
    ON [dbo].[TM_REASON_RELEASE]([RSR_RLS_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RSR_RSN_ID]
    ON [dbo].[TM_REASON_RELEASE]([RSR_RSN_ID] ASC);

